<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>关系图编辑器</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <div class="toolbar">
            <button id="addNodeBtn">+ 新增节点</button>
            <button id="clearBtn">🔄 清空画布</button>
            <div class="status-bar">
                <span id="statusText">就绪 (按 Delete 键删除选中项)</span>
            </div>
        </div>
        
        <div class="canvas-container">
            <canvas id="graphCanvas" width="1600" height="1200"></canvas>
        </div>
        
        <div class="properties-panel">
            <h3>属性面板</h3>
            <div id="propertiesContent">
                <p>请选择一个节点或关系</p>
            </div>
        </div>
    </div>
    
    <div id="nodeModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="modalTitle">新增节点</h2>
            <form id="nodeForm">
                <label for="nodeName">节点名称:</label>
                <input type="text" id="nodeName" required>
                
                <label for="nodeType">节点类型:</label>
                <select id="nodeType">
                    <option value="person">人物</option>
                    <option value="organization">组织</option>
                    <option value="event">事件</option>
                    <option value="concept">概念</option>
                </select>
                
                <label for="nodeColor">节点颜色:</label>
                <input type="color" id="nodeColor" value="#3498db">
                
                <button type="submit">保存</button>
            </form>
        </div>
    </div>
    
    <div id="edgeModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2 id="edgeModalTitle">新增关系</h2>
            <form id="edgeForm">
                <label for="edgeSource">源节点:</label>
                <select id="edgeSource" required></select>
                
                <label for="edgeTarget">目标节点:</label>
                <select id="edgeTarget" required></select>
                
                <label for="edgeLabel">关系标签:</label>
                <input type="text" id="edgeLabel" required>
                
                <label for="edgeColor">关系颜色:</label>
                <input type="color" id="edgeColor" value="#e74c3c">
                
                <button type="submit">保存</button>
            </form>
        </div>
    </div>
    
    <script src="app.js"></script>
</body>
</html>
